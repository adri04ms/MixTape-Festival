<!DOCTYPE html>
<html lang="en">

<head>
  <title>Artistas y actuaciones</title><!--Titulo de la pagina-->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="/stylemasinfo.css">

</head>

<body>
  <div class="container-fluid"><!--Contenedor de elemento-->
    <div class="izquierda row">
      <h1>{{artista.nombre}}</h1>
      <div class="col-12 col-md-6 col-lg-5">
        <div class="cantante">
          <img src="{{artista.imagen}}" alt="{{artista.nombre}}">
        </div>
        <br>
      </div>

      <div class="col-12 col-md-6 col-lg-5">
        <br>
        <h2>{{artista.genero}}</h2><!--Atributo de elemento-->
        <p>{{artista.descripcion}}</p>
        <br>
        <h2>Actuacion durante el festival</h2><!--Atributo de elemento-->
        <p>{{artista.fecha}}</p>
        <p>{{artista.hora}}</p>
      </div>
      <br>
      <div class="col-6 col-md-3 col-lg-5 canciones"><!--Lista de sububelementos-->
        <h2>Canciones</h2>
        <br>
        {{#artista.canciones}}
        <div>
          <p class="nombre">{{nombre}}</p>
          <p>{{duracion}} / {{lanzamiento}} / {{colaborador}}</p><br>
        </div>
        {{/artista.canciones}}
      </div>

      <div class="col-6 col-md-3 col-lg-5 nueva-cancion"><!--Nuevo subelemento-->
        <h2>Nueva cancion</h2>

      <div id="alertaNombre" class="alert alert-danger" style="display: none;" role="alert">
          Por favor, completa el nombre.
      </div>
      <div id="alertaDuracion" class="alert alert-danger" style="display: none;" role="alert">
          Por favor, indica la duración de la canción.
      </div>
      <div id="alertaLanzamiento" class="alert alert-danger" style="display: none;" role="alert">
          Por favor, indica el año de lanzamiento de la canción.
      </div>
        <form role="form" class="formulario" action="/nuevaCancion/{{artista.id}}" method="post" action="/procesarFormulario">
          <table class="tabla">
            <tr>
              <td><input placeholder="Nombre" type="text" id="nombre" name="nombre" required></td>
            </tr>
            <tr>
              <td>
                <p></p> <!--coloca un espacio entre campos del formulario-->
              </td>
            </tr>
            <tr>
              <td><input placeholder="Duracion" type="text" id="duracion" name="duracion" required></td>
            </tr>
            <tr>
              <td>
                <p></p>
              </td>
            </tr>
            <tr>
              <td><input placeholder="Año de lanzamiento" type="text" id="lanzamiento" name="lanzamiento" required></td>
            </tr>
            <tr>
              <td>
                <p></p>
              </td>
            </tr>
            <tr>
              <td><input placeholder="Colaborador (Opcional)" type="text" id="colaborador" name="colaborador"></td>
            </tr>
            <tr>
            <td><a><button class="button" type="submit">GUARDAR</button></a></td>
            </tr>
          </table>
        </form><br>
      </div>

      <div class="contenedor-de-botones row"><!--Contenedor de botones-->
        <br>
        <div class="boton-masinfo col-2 col-md-2 col-lg-1"><br>
          <a href="/masInfo/{{artista.id}}/borrar"><button class="button" type="submit">BORRAR</button></a>
        </div>
        <div class="boton-masinfo col-2 col-md-2 col-lg-1 editar"><br>
          <a href="/editar/{{artista.id}}"><button class="button" type="submit">EDITAR</button></a>
        </div>
        <div class="boton-masinfo col-3 col-md-3 col-lg-1 elementos"><br>
          <a href="/"><button class="button" type="submit">VER TODOS</button></a>
        </div>
      </div>
    </div>
  </div>
  <br><br>

<script>
        function validarFormulario() {
            var nombre = document.getElementById('nombre').value;
            var imagen = document.getElementById('duracion').value;
            var genero = document.getElementById('lanzamiento').value;

            if (nombre === '' || duracion === '' || lanzamiento === '') {
                // Muestra la alerta
                if (nombre === ''){
                document.getElementById('alertaNombre').style.display = 'block';
                setTimeout(function () {
                    document.getElementById('alertaNombre').style.display = 'none';
                }, 4000);
                return false; 
                }
                else if (duracion === ''){
                document.getElementById('alertaDuracion').style.display = 'block';
                setTimeout(function () {
                    document.getElementById('alertaDuracion').style.display = 'none';
                }, 4000);
                return false; 
                }
                else if (lanzamiento === ''){
                document.getElementById('alertaLanzamiento').style.display = 'block';
                setTimeout(function () {
                    document.getElementById('alertaLanzamiento').style.display = 'none';
                }, 4000);
                return false; 
                }
                
                
            }
            

            return true; // Envía el formulario si todos los campos están llenos
        }
    </script>
</body>
</html>
